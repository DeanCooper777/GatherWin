<Window x:Class="GatherWin.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="GatherWin Options"
        Width="500" Height="720"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#F5F5F5">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Scrollable content -->
        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
            <Grid Margin="20,20,20,10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>  <!-- Title -->
                    <RowDefinition Height="Auto"/>  <!-- Connection section -->
                    <RowDefinition Height="Auto"/>  <!-- Separator 1 -->
                    <RowDefinition Height="Auto"/>  <!-- What's New section -->
                    <RowDefinition Height="Auto"/>  <!-- Separator 2 -->
                    <RowDefinition Height="Auto"/>  <!-- Channels section -->
                    <RowDefinition Height="Auto"/>  <!-- Separator 3 -->
                    <RowDefinition Height="Auto"/>  <!-- Agents section -->
                    <RowDefinition Height="Auto"/>  <!-- Separator 4 -->
                    <RowDefinition Height="Auto"/>  <!-- Posts section -->
                    <RowDefinition Height="Auto"/>  <!-- Separator 5 -->
                    <RowDefinition Height="Auto"/>  <!-- Appearance section -->
                    <RowDefinition Height="Auto"/>  <!-- Separator 6 -->
                    <RowDefinition Height="Auto"/>  <!-- Identity section -->
                </Grid.RowDefinitions>

                <!-- Title -->
                <TextBlock Grid.Row="0" Text="Options" FontSize="18" FontWeight="SemiBold"
                           Foreground="#2C3E50" Margin="0,0,0,16"/>

                <!-- Connection Settings -->
                <StackPanel Grid.Row="1">
                    <TextBlock Text="CONNECTION" FontSize="11" FontWeight="SemiBold" Foreground="#95A5A6"
                               Margin="0,0,0,8"/>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Agent ID:" VerticalAlignment="Center" Margin="0,0,12,8"/>
                        <TextBox Grid.Row="0" Grid.Column="1" x:Name="AgentIdBox" Margin="0,0,0,8" Padding="6,4" FontSize="12"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Watched Posts:" VerticalAlignment="Center" Margin="0,0,12,8"/>
                        <TextBox Grid.Row="1" Grid.Column="1" x:Name="WatchedPostsBox" Margin="0,0,0,8" Padding="6,4" FontSize="12"
                                 ToolTip="Comma-separated post IDs"/>

                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Poll Interval:" VerticalAlignment="Center" Margin="0,0,12,8"/>
                        <StackPanel Grid.Row="2" Grid.Column="1" Orientation="Horizontal" Margin="0,0,0,8">
                            <TextBox x:Name="IntervalBox" Width="60" Padding="6,4" FontSize="12"/>
                            <TextBlock Text=" seconds" VerticalAlignment="Center" Foreground="#777" FontSize="12"/>
                        </StackPanel>

                        <TextBlock Grid.Row="3" Grid.Column="0" Text="Claude API Key:" VerticalAlignment="Center" Margin="0,0,12,8"/>
                        <PasswordBox Grid.Row="3" Grid.Column="1" x:Name="ClaudeApiKeyBox" Margin="0,0,0,8" Padding="6,4" FontSize="12"/>

                        <TextBlock Grid.Row="4" Grid.Column="0" Text="Badge Duration:" VerticalAlignment="Center" Margin="0,0,12,8"/>
                        <StackPanel Grid.Row="4" Grid.Column="1" Orientation="Horizontal" Margin="0,0,0,8">
                            <TextBox x:Name="BadgeDurationBox" Width="60" Padding="6,4" FontSize="12"/>
                            <TextBlock Text=" minutes (0 = never expire)" VerticalAlignment="Center" Foreground="#777" FontSize="12"/>
                        </StackPanel>
                    </Grid>
                </StackPanel>

                <!-- Separator -->
                <Border Grid.Row="2" Height="1" Background="#DEE2E6" Margin="0,8,0,16"/>

                <!-- What's New Display Options -->
                <StackPanel Grid.Row="3">
                    <TextBlock Text="WHAT'S NEW DISPLAY" FontSize="11" FontWeight="SemiBold" Foreground="#95A5A6"
                               Margin="0,0,0,8"/>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Trending Posts:" VerticalAlignment="Center" Margin="0,0,12,8"/>
                        <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" Margin="0,0,0,8">
                            <TextBox x:Name="MaxDigestBox" Width="60" Padding="6,4" FontSize="12"/>
                            <TextBlock Text=" max items" VerticalAlignment="Center" Foreground="#777" FontSize="12"/>
                        </StackPanel>

                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Platform Posts:" VerticalAlignment="Center" Margin="0,0,12,8"/>
                        <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal" Margin="0,0,0,8">
                            <TextBox x:Name="MaxPlatformBox" Width="60" Padding="6,4" FontSize="12"/>
                            <TextBlock Text=" max items" VerticalAlignment="Center" Foreground="#777" FontSize="12"/>
                        </StackPanel>

                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Agents:" VerticalAlignment="Center" Margin="0,0,12,8"/>
                        <StackPanel Grid.Row="2" Grid.Column="1" Orientation="Horizontal" Margin="0,0,0,8">
                            <TextBox x:Name="MaxAgentsBox" Width="60" Padding="6,4" FontSize="12"/>
                            <TextBlock Text=" max items" VerticalAlignment="Center" Foreground="#777" FontSize="12"/>
                        </StackPanel>

                        <TextBlock Grid.Row="3" Grid.Column="0" Text="Skills:" VerticalAlignment="Center" Margin="0,0,12,8"/>
                        <StackPanel Grid.Row="3" Grid.Column="1" Orientation="Horizontal" Margin="0,0,0,8">
                            <TextBox x:Name="MaxSkillsBox" Width="60" Padding="6,4" FontSize="12"/>
                            <TextBlock Text=" max items" VerticalAlignment="Center" Foreground="#777" FontSize="12"/>
                        </StackPanel>
                    </Grid>
                </StackPanel>

                <!-- Separator 2 -->
                <Border Grid.Row="4" Height="1" Background="#DEE2E6" Margin="0,8,0,16"/>

                <!-- Channels Tab Options -->
                <StackPanel Grid.Row="5">
                    <TextBlock Text="CHANNELS TAB" FontSize="11" FontWeight="SemiBold" Foreground="#95A5A6"
                               Margin="0,0,0,8"/>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Max Channels:" VerticalAlignment="Center" Margin="0,0,12,8"/>
                        <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" Margin="0,0,0,8">
                            <TextBox x:Name="MaxChannelsTabBox" Width="60" Padding="6,4" FontSize="12"/>
                            <TextBlock Text=" max items" VerticalAlignment="Center" Foreground="#777" FontSize="12"/>
                        </StackPanel>
                    </Grid>
                </StackPanel>

                <!-- Separator 3 -->
                <Border Grid.Row="6" Height="1" Background="#DEE2E6" Margin="0,8,0,16"/>

                <!-- Agents Tab Options -->
                <StackPanel Grid.Row="7">
                    <TextBlock Text="AGENTS TAB" FontSize="11" FontWeight="SemiBold" Foreground="#95A5A6"
                               Margin="0,0,0,8"/>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Max Agents:" VerticalAlignment="Center" Margin="0,0,12,8"/>
                        <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" Margin="0,0,0,8">
                            <TextBox x:Name="MaxAgentsTabBox" Width="60" Padding="6,4" FontSize="12"/>
                            <TextBlock Text=" max items" VerticalAlignment="Center" Foreground="#777" FontSize="12"/>
                        </StackPanel>
                    </Grid>
                </StackPanel>

                <!-- Separator 4 -->
                <Border Grid.Row="8" Height="1" Background="#DEE2E6" Margin="0,8,0,16"/>

                <!-- Post Display Options -->
                <StackPanel Grid.Row="9">
                    <TextBlock Text="POST DISPLAY" FontSize="11" FontWeight="SemiBold" Foreground="#95A5A6"
                               Margin="0,0,0,8"/>
                    <CheckBox x:Name="ShowFullPostsBox" Content="Show full post bodies instead of summaries"
                              FontSize="12" Margin="0,0,0,4"/>
                    <TextBlock Text="When enabled, requests full post content from the API (uses more tokens)."
                               FontSize="10" Foreground="#999" Margin="18,0,0,0" TextWrapping="Wrap"/>
                </StackPanel>

                <!-- Separator 5 -->
                <Border Grid.Row="10" Height="1" Background="#DEE2E6" Margin="0,8,0,16"/>

                <!-- Appearance Settings -->
                <StackPanel Grid.Row="11">
                    <TextBlock Text="APPEARANCE" FontSize="11" FontWeight="SemiBold" Foreground="#95A5A6"
                               Margin="0,0,0,8"/>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0" Text="Font Size:" VerticalAlignment="Center" Margin="0,0,12,0"/>
                        <Slider Grid.Column="1" x:Name="FontScaleSlider"
                                Minimum="50" Maximum="200" TickFrequency="10"
                                IsSnapToTickEnabled="True" VerticalAlignment="Center"
                                ValueChanged="FontScaleSlider_ValueChanged"/>
                        <TextBlock Grid.Column="2" x:Name="FontScaleLabel" Width="45" TextAlignment="Right"
                                   VerticalAlignment="Center" FontSize="12" FontWeight="SemiBold" Foreground="#333"
                                   Margin="8,0,0,0"/>
                    </Grid>
                    <TextBlock Text="Scales all text and UI elements (50% – 200%)"
                               FontSize="10" Foreground="#999" Margin="0,4,0,0"/>
                </StackPanel>

                <!-- Separator 6 -->
                <Border Grid.Row="12" Height="1" Background="#DEE2E6" Margin="0,12,0,16"/>

                <!-- Identity Section -->
                <StackPanel Grid.Row="13">
                    <TextBlock Text="IDENTITY" FontSize="11" FontWeight="SemiBold" Foreground="#95A5A6"
                               Margin="0,0,0,8"/>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Name:" VerticalAlignment="Center" Margin="0,0,12,8"/>
                        <TextBox Grid.Row="0" Grid.Column="1" x:Name="IdentityNameBox" IsReadOnly="True"
                                 Background="#EEEEEE" Margin="0,0,0,8" Padding="6,4" FontSize="12"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Description:" VerticalAlignment="Top" Margin="0,0,12,8"/>
                        <TextBox Grid.Row="1" Grid.Column="1" x:Name="IdentityDescBox" IsReadOnly="True"
                                 Background="#EEEEEE" TextWrapping="Wrap" MaxHeight="60"
                                 Margin="0,0,0,8" Padding="6,4" FontSize="12"/>

                        <Button Grid.Row="2" Grid.Column="1" Content="Edit Identity"
                                HorizontalAlignment="Left" Padding="12,4" FontSize="11"
                                Cursor="Hand" Click="EditIdentity_Click"/>
                    </Grid>
                </StackPanel>
            </Grid>
        </ScrollViewer>

        <!-- Buttons — always visible at bottom -->
        <Border Grid.Row="1" BorderBrush="#DEE2E6" BorderThickness="0,1,0,0" Background="#F5F5F5" Padding="20,12">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="Cancel" Padding="16,6" FontSize="12" Margin="0,0,8,0"
                        IsCancel="True" Click="Cancel_Click"/>
                <Button Content="Save" Padding="16,6" FontSize="12"
                        Background="#27AE60" Foreground="White" BorderThickness="0"
                        FontWeight="SemiBold" Cursor="Hand"
                        IsDefault="True" Click="Save_Click"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
